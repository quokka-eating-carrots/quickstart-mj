# 7. 고차 함수와 렌더링 최적화

## 고차 함수 (higer-order function)

다른 함수와 컴포넌트를 인자로 전달받거나 리턴하는 함수. <br />
`{...props}` 코드는 기존 컴포넌트가 사용하는 속성을 그대로 다시 전달하기 위해 반드시 작성. <br />
클래스 컴포넌트의 공통 로직을 분리하는 경우라면 고차 함수를 사용할 수밖에 없지만 함수 컴포넌트를 사용한다면 사용자 정의 훅을 작성하여 공통의 로직을 분리할 것을 권장.

- 한 컴포넌트에 여러 고차 함수를 적용할 때 동일한 이름의 속성을 사용하고 있다면 충돌이 난다.
- 인자로 전달되는 컴포넌트의 속성이 무엇일지 알 수 없으므로 암묵적으로 any 타입을 사용할 수밖에 없다. 즉, 타입스크립트와 같은 정적 타입 언어를 적용할 때 어려움이 있다.

## React.memo 고차 함수

컴포넌트가 동일한 상태나 속성을 가지고 있다면 얕은 비교를 수행하도록 하여 불필요한 렌더링을 방지. 불변성을 가진 상태의 변경이 필수적.

- 두 번째 인자로 전달한 함수의 리턴값이 true면 렌더링 하지 않는다.
- prevProps: 이전의 속성
- nextProps: 새롭게 전달된 속성
  `React.memo(컴포넌트, (prevProps, nextProps) => {})`

React.memo 고차 함수를 이용하면 렌더링 최적화가 가능. 전달받은 속성에 대해 이전 속성과 얕은 비교를 통해 다시 렌더링할지를 결정함으로써 렌더링 최적화를 한다. 함수를 속성으로 전달하는 경우 React.memo 고차 함수와 함게 useCallback 훅을 이용해 렌더링할 때마다 함수가 매번 생성되지 않도록 최적화할 수 있다.
